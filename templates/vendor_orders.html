{% extends "base.html" %}

{% block title %}Vendor Orders - Inkingi Wood Ltd{% endblock %}

{% block content %}
<section class="vendor-orders-page py-5">
  <div class="container">
    <header class="mb-5">
      <h1 class="display-5 fw-bold mb-2">Orders Containing Your Products</h1>
      <p class="lead text-muted">Manage orders for items you've sold</p>
    </header>

    {% if items %}
    <div class="table-responsive">
      <table class="table table-hover table-bordered">
        <thead class="table-light">
          <tr>
            <th scope="col">Order #</th>
            <th scope="col">Product</th>
            <th scope="col" class="text-center">Quantity</th>
            <th scope="col">Customer</th>
            <th scope="col">Delivery Address</th>
            <th scope="col" class="text-center">Status</th>
            <th scope="col" class="text-center">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for item in items %}
            <tr class="align-middle">
              <td>
                <strong>
                  <a href="{% url 'orders:vendor_order_details' item.order.id %}" class="link-brand text-decoration-none">
                    #{{ item.order.id }}
                  </a>
                </strong>
              </td>
              <td>{{ item.product.name }}</td>
              <td class="text-center">{{ item.quantity }}</td>
              <td><small>{{ item.order.customer.username }}</small></td>
              <td><small>{{ item.order.delivery_address|truncatewords:10 }}</small></td>
              <td class="text-center">
                {% if item.order.status == 'pending' %}
                  <span class="badge bg-warning text-dark">Pending</span>
                {% elif item.order.status == 'completed' %}
                  <span class="badge bg-success">Completed</span>
                {% elif item.order.status == 'shipped' %}
                  <span class="badge bg-info">Shipped</span>
                {% else %}
                  <span class="badge bg-secondary">{{ item.order.status|title }}</span>
                {% endif %}
              </td>
              <td class="text-center">
                <a href="{% url 'orders:vendor_order_details' item.order.id %}" class="btn btn-view btn-sm">
                  View
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
      <div class="alert alert-info alert-lg py-5 text-center" role="alert">
        <h5 class="mb-3">No Orders Yet</h5>
        <p class="mb-0 text-muted">No orders include your products yet. Keep creating great products!</p>
      </div>
    {% endif %}
  </div>
</section>
{% endblock %}
