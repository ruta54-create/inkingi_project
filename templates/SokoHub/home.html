{% extends 'base.html' %}
{% load static %}

{% block content %}

<!-- HERO SECTION -->
<section class="hero bg-secondary opacity-75 text-white p-5 text-center">
    <h1 class="display-4 fw-bold">Welcome to Inkingi Wood Ltd</h1>
    <p class="lead text-white fw-bold mb-4">Your marketplace for local vendors and amazing Wooden products</p>
    <a href="{% url 'products:product_list' %}" class="btn btn-primary btn-lg mt-3">
        Browse Products
    </a>
</section>

<!-- NEWEST PRODUCTS SECTION -->
<section class="products-section container my-5">
    <h2 class="text-center mb-5 fw-bold">Newest Products</h2>

    <div class="row g-4">
        {% for product in products %}
        <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
            <div class="card h-100 shadow-sm border-0 transition-transform">

                <!-- Product Image -->
                <div class="card-img-container position-relative overflow-hidden" style="height: 250px;">
                    {% if product.image %}
                        <img 
                            src="{{ product.image.url }}" 
                            class="card-img-top w-100 h-100 object-fit-cover" 
                            alt="{{ product.name }}"
                            loading="lazy"
                            decoding="async">
                    {% else %}
                        <img 
                            src="{% static 'img/placeholder.png' %}" 
                            class="card-img-top w-100 h-100 object-fit-cover" 
                            alt="No image available for {{ product.name }}"
                            loading="lazy"
                            decoding="async">
                    {% endif %}
                </div>

                <div class="card-body d-flex flex-column">
                    <h5 class="card-title fw-bold text-dark">{{ product.name }}</h5>
                    
                    <p class="card-text text-muted small mb-2">
                        <strong>Vendor:</strong> {{ product.vendor.username }}
                    </p>

                    {% if product.unit %}
                    <p class="card-text text-muted small mb-2">
                        <strong>Unit:</strong> {{ product.unit }}
                    </p>
                    {% endif %}

                    <p class="fw-bold text-success mb-3">
                        Price: {{ product.price|floatformat:2 }} RWF
                    </p>

                    <a href="{% url 'products:product_detail' product.id %}" class="btn btn-view w-100 mt-auto">
                        View Details
                    </a>
                </div>

            </div>
        </div>
        {% empty %}
        <div class="col-12">
            <p class="text-center text-muted py-5">No products available yet.</p>
        </div>
        {% endfor %}
    </div>
</section>

{% endblock %}
